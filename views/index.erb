<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Grocery List</title>
</head>

<body>
  <h1>Groceries</h1>
  <ul>
    <% @groceries.each do |grocery_item| %>
      <li><a href = "/groceries/<%= grocery_item[0] %>">
        <%=grocery_item[0]%>
        <% unless grocery_item[1].nil?%>
        <%= " (#{grocery_item[1]})"%>
        <% end %>
      </a>
      </li>
    <% end %>
  </ul>

  <form action="/groceries" method="post">
    <div>
      <label for="Name">Name:</label>
      <input type="text" name="Name">
    </div>

    <div>
      <% groceries_array = @groceries.to_a %>
      <% prev_quantity = groceries_array.last[1]%>

      <label for="Quantity">Quantity:</label>

      <input type="text"
             name="Quantity"
             value="<%=prev_quantity%>"
      />
    </div>

    <div class="button">
      <button type="submit">Add</button>
    </div>
  </form>

</body>

</html>
